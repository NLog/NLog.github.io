---
layout: post
title: NLog 6.0 goals
---

NLog v6.0 has the following goals:

- Support Ahead-of-Time (AOT) builds without warnings
- Support Nullable references
- Cleanup interfaces for `Logger` / `ILogger` to remove unnecessary boxing optimizations from .NET v1
- Remove Systeml.RegularExpression dependency since a heavy dependency for AOT
  - Need to implement a minimal syntax-support for NLog Logging Rules. Ex. `?` and `.*`
- Remove Systeml.Xml dependency since a heavy dependency for AOT
  - Need to implement a minimal XML reader to continue loading `NLog.config` XML files
- Extract NLog.Targets.WebServiceTarget to its own nuget-package
- Extract NLog.Targets.NetworkTarget to its own nuget-package
- Extract NLog.Targets.MailTarget to its own nuget-package
- Extract NLog.Targets.FileTarget to its own nuget-package NLog.Targets.ConcurrentFileTarget
  - NLog will instead have a simple FileTarget without ConcurrentWrites-support but only KeepFileOpen = false

The overall goal for NLog v6.0 is still to be a fully working logging-library in a single nuget-package.
The NLog-package will out of the box only handle file- and console-output, which probably covers 90 pct. of the use cases.
When needing other output destinations or formats, then additional nuget-packages must be included.

The planned interface cleanup for `Logger` / `ILogger` will probably give a lot of headache,
as it will require all dependencies to be upgraded before upgrading the main-application.
Where NLog v5 was mostly an update of default values for the main-application to handle,
then the upgrade to NLog v6 will affect the entire dependency- / project-tree.

The goal is that all existing nuget-packages with custom NLog targets should continue to function with NLog v6.
This means NLog v6 will probably continue to support obsolete API-methods, that are relevant for custom NLog targets.

.NET8 already have great support for AOT, but many Microsoft teams are still working with updating
their nuget-packages to support AOT. Believe the goal for .NET9 is to update more nuget-packkage 
to fully support AOT, so more aplications that depend on ASP.NET or MAUI have full AOT support.
NLog should not become a blocker, when people wants to make AOT builds.